---
ID: 175
post_title: Centos6.2安装Magento
author: chris
post_excerpt: ""
layout: post
permalink: 'http://hss5.com/2013/08/30/centos6-2%e5%ae%89%e8%a3%85magento/'
published: true
post_date: 2013-08-30 16:53:10
---
<p><a href="http://www.blogjava.net/robbie/archive/2012/04/04/373322.html">Centos6.2安装Magento</a> <p><strong>环境：</strong> <p>&nbsp;&nbsp;&nbsp; Centos6.2(安装在Vmware7.0中) <p>&nbsp;&nbsp;&nbsp; Magento1.6.2 <p>&nbsp;&nbsp;&nbsp; Apache Httpd Server 2.2.15 <p>&nbsp;&nbsp;&nbsp; MySql 5.1.61 <p>&nbsp;&nbsp;&nbsp; PHP5.3.3 <p><strong>安装过程：</strong> <p><strong>apache http、mysql、php及相关扩展安装：</strong> <p>&nbsp;&nbsp;&nbsp; 其中apache http、Mysql、php都是利用centos的添加/删除软件功能进行安装。同时使用该功能安装"php-xml"、"php-gd"、"php-pdo"、"php-mbstring"、"php-mysql"扩展。 <p>&nbsp;&nbsp;&nbsp; 使用chkconfig配置httpd和mysql为系统服务。命令如下： <p>&nbsp;&nbsp;&nbsp; chkconfig httpd on <p>&nbsp;&nbsp;&nbsp; chkconfig -add mysqld <p>&nbsp;&nbsp;&nbsp; chkconfig mysqld on <p>&nbsp;&nbsp;&nbsp; 使用chkconfig --list 可以查看所有的服务配置状态 <p>&nbsp;&nbsp;&nbsp; 使用service httpd start、service mysqld start启动httpd和mysqld服务。可以通过service httpd restart重启相关服务。 <p>&nbsp;&nbsp;&nbsp; 此时访问本机的http://localhost可以看到apache的欢迎界面，同时编辑index.php文件，其内容如下： <p>&nbsp;&nbsp;&nbsp; &lt;?php <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; phpinfo(); <p>&nbsp;&nbsp;&nbsp; ?&gt; <p>&nbsp;&nbsp;&nbsp; 并将该文件置于/var/www/html目录下，访问http://localhost/index.php，此时应该不能看到php版本信息，仅能看到index.php的静态文本内容。 <p>&nbsp;&nbsp;&nbsp; 修改/etc/httpd/conf/httpd.conf文件，修改如下： <p>&nbsp;&nbsp;&nbsp; DirectoryIndex index.html index.html.var -&gt;&nbsp; DirectoryIndex index.html index.htm index.php <p>&nbsp;&nbsp;&nbsp; 增加： <p>&nbsp;&nbsp;&nbsp; AddType application/x-httpd-php .php <p>&nbsp;&nbsp;&nbsp; AddDefaultCharset -&gt; AddDefaultCharset off&nbsp; (解决中文乱码问题) <p>&nbsp;&nbsp;&nbsp; 增加一段VirtualHost描述，如下（在配置文件的最后）： <p>&nbsp;&nbsp;&nbsp; &lt;VirtualHost *:80&gt; <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DocumentRoot /var/www/smallfive <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServerName smallfive <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServerAlias smallfive.com *.smallfive.com <p>&nbsp;&nbsp;&nbsp; &lt;/VirtualHost&gt; <p>&nbsp;&nbsp;&nbsp; 此时访问http://localhost/index.php，应该一切正常 <p><strong>设置数据库：</strong> <p>&nbsp;&nbsp;&nbsp; 使用mysqladmin -u root password 'newpassword'设置mysql数据库的默认密码 <p>&nbsp;&nbsp;&nbsp; 让数据库更安全： <p>&nbsp;&nbsp;&nbsp; mysql -u root -p&nbsp;&nbsp;&nbsp; 进入mysql <p>&nbsp;&nbsp;&nbsp; mysql&gt; DROP DATABASE test; 　　　　　　　　　　　　　　 删除test数据库 <p>&nbsp;&nbsp;&nbsp; mysql&gt; DELETE FROM mysql.user WHERE user = '';&nbsp;&nbsp; 删除匿名帐户 <p>&nbsp;&nbsp;&nbsp; mysql&gt; FLUSH PRIVILEGES; 　　　　　　　　　　　　　　　 重载权限 <p>&nbsp;&nbsp;&nbsp; 创建magento数据库 <p>&nbsp;&nbsp;&nbsp; mysql&gt; CR&nbsp;&nbsp; 访问magento数据库，确保一切正常 <p><strong>&nbsp;&nbsp;&nbsp; 配置Magento：</strong> <p>&nbsp;&nbsp;&nbsp; 解压缩magento1.6.2版本至/var/www/smallfive/magento目录 <p>&nbsp;&nbsp;&nbsp; 解压命令： <p>&nbsp;&nbsp; EATE DATABASE magento; <p>&nbsp;&nbsp;&nbsp; mysql&gt; GRANT ALL PRIVILEGES ON magento.* TO 'root'@'localhost' IDENTIFIED BY 'newpassword';&nbsp; <p>&nbsp; tar zxvf magento1.6.2.tar.gz <p>&nbsp;&nbsp;&nbsp; 此时访问http://localhost/magento，可根据magento的设置进行配置 <p><strong>&nbsp;&nbsp;&nbsp; 注意如下问题：</strong> <p>&nbsp;&nbsp;&nbsp; 1、确保当前用户拥有对/var/www/smallfive/magento可读可写权限 <p>&nbsp;&nbsp;&nbsp; 2、还需安装mcrypt库，安装这个库比较繁琐，mcrypt依赖于Libmcrypt库和mhash库，我们需要下载Libmcrypt库和mhash库安装它们，然后再编译Mcrypt。 <p>&nbsp;&nbsp;&nbsp; 在编译之前，先做好如下准备工作： <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a、安装phpize：yum -y install php-devel <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b、安装C++脚本编译模块： <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yum -y install gcc gcc-g++ <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yum -y install gcc gcc-c++ <p>&nbsp;&nbsp;&nbsp; 安装mcrypt库过程，如下： <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a、下载libmcrypt和mhash库 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Libmcrypt：http://sourceforge.net/project/showfiles.php?group_id=87941&amp;package_id=91774&amp;release_id=487459 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mhash：http://sourceforge.net/project/showfiles.php?group_id=4286&amp;package_id=4300&amp;release_id=645636 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b、将上述两个下载后，分别解压，并执行如下命令编译： <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ./configure <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; make &amp;&amp; make install <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c、下载php对应的源代码，解压， <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 进入php源代码的 /ext/mcrypt目录 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 执行phpize命令 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ./configure –with-php-config=/usr/bin/php-config <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; make &amp;&amp; make install <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d、在php.ini文件中增加如下内容： <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; extension=/usr/lib/php/modules/mcrypt.so <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mcrypt.so文件路径在php-config文件中可以找到 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e、service httpd restart <p>&nbsp;&nbsp;&nbsp; end! <p><strong>&nbsp;&nbsp;&nbsp; 参考文章：</strong> <p>&nbsp;&nbsp;&nbsp; http://www.eexu.com/article.asp?id=1730 <p>&nbsp;&nbsp;&nbsp; http://www.ruiwant.com/centos-6-0%E4%B8%8Bmagento%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93.html <p>&nbsp;&nbsp;&nbsp; http://zixun.www.net.cn/qita/2344.html <p>&nbsp;&nbsp;&nbsp; http://os.qudong.com/Linux/2010/0210/64441.html</p>